{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Genres | Lyrica</title>
  <link rel="stylesheet" href="{% static 'genres.css' %}">
</head>
<body>
    <header class="navbar">
        <div class="navbar-left">
          <a href="{% url 'index' %}" class="logo-text">LyRicA</a>
        </div>
      </header>
      
  <div class="content-container">
    <div class="header">
      <h1>üéß Genres</h1>
    </div>

    <div class="genres-container">
      {% for genre in genres %}
        <div class="genre-card">
          <h2 class="genre-name">{{ genre.name }}</h2>
          <p><strong>Total Streams:</strong> {{ genre.total_streams }}</p>

          <div class="genre-details">
            <div class="section">
              <h3>Artists:</h3>
              <ul>
                {% for artist in genre.artists %}
                  <li>{{ artist.name }}</li>
                {% endfor %}
              </ul>
            </div>

            <div class="section">
              <h3>Songs:</h3>
              <ul>
                {% for song in genre.songs %}
                  <li>{{ song.title }} - {{ song.duration }} seconds</li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    {% if request.user.user_type.user_type_name == "Admin" %}
    <div class="back-to-dashboard">
        <a href="{% url 'admin_dashboard' %}" class="btn">‚Ü©Ô∏è Back to Dashboard</a>
      </div>
    {% endif %} 
  </div>
</body>
</html>
